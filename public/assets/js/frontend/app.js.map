{"version":3,"sources":["app.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app.js","sourcesContent":["angular.module('frontend', [\n        'ui.bootstrap',\n        'angular-loading-bar',\n        'angularLazyImg',\n        'infinite-scroll'\n    ]).value('url', 'http://www.balihomeparadise.com')\n    .value('thumb_path', '/thumb')\n    .value('thumb_size', '350');\n\n/*******************************************************************\n\t\t\t\t\t\tControllers\n*******************************************************************/\n// Admin Controller\nangular.module('frontend').controller('homeController', ['$scope', '$http', '$log', 'url', 'thumb_path', 'thumb_size',\n    function($scope, $http, $log, url, thumb_path, thumb_size) {\n\n        $scope.villas = [];\n        $scope.reviewByVilla = [];\n        $scope.galleryByVilla = [];\n        $scope.reviewStatus = false;\n\n        $scope.getVillas = function(id) {\n\n            var url_thumb,\n                rateTrimmed;\n\n            $http({\n                method: 'GET',\n                url: '/getarea/' + id\n            }).then(function successCallback(data) {\n                $log.info(data.data);\n                angular.forEach(data.data, function(value, key) {\n\n\n                    if (value.gallery.length === 0) {\n                        url_thumb = null;\n                    } else {\n                        $log.info(key);\n                        url_thumb = url + thumb_path + '/' + value.gallery[0].original_name + '/' + thumb_size + '/temporary';\n                    }\n\n                    if (value.rate.length === 0) {\n                        rateTrimmed = null;\n                    } else {\n                        rateTrimmed = value.rate[0].min_rate.slice(0, -3);\n                    }\n\n                    $scope.villas.push({\n                        id: value.id,\n                        title: value.title,\n                        desc: value.intro,\n                        bedroom: value.bedrooms_no,\n                        environment: value.environment.title,\n                        occupied: value.occupied_max,\n                        review: value.review.length,\n                        rate: rateTrimmed,\n                        thumbnail: url_thumb,\n                        url: url + '/' + value.area.slug + '/' + value.slug + '.html',\n                        thumb_image: url + '/assets/images/lazy-image.png'\n                    });\n                });\n                $log.info($scope.villas);\n            }, function errorCallback(response) {\n                $log.info(response);\n            });\n\n        };\n\n\n        $scope.data = $scope.villas.slice(0, 6);\n        $scope.getMoreData = function() {\n            $scope.data = $scope.villas.slice(0, $scope.data.length + 6);\n        }\n\n        // Get Reviews By villa\n        $scope.getReviewByVilla = function(id) {\n            $http({\n                method: 'GET',\n                url: '/reviews/' + id + '/list'\n            }).then(function successCallback(data) {\n                $log.info(data);\n                if (data.data.status === 1) {\n                    angular.forEach(data.data.result, function(value, key) {\n                        $scope.reviewByVilla.push({\n                            id: value.id,\n                            guestName: value.guest_name,\n                            guestComment: value.comments,\n                            guestCountry: value.country.name\n                        });\n                    });\n                    $scope.reviewStatus = true;\n                }\n\n            }, function errorCallback(response) {\n                $log.info(response);\n            });\n        }\n\n        // Get Reviews By villa\n        $scope.getGalleryByVilla = function(id) {\n            $http({\n                method: 'GET',\n                url: '/villa-gallery/' + id + '/list'\n            }).then(function successCallback(data) {\n                $log.info(data);\n                if (data.data.status === 1) {\n                    angular.forEach(data.data.data, function(value, key) {\n                        $scope.galleryByVilla.push({\n                            url: url + '/original-image/' + value.original_name + '/detail',\n                            caption: value.caption,\n                            thumbUrl: url + thumb_path + '/' + value.original_name + '/' + thumb_size + '/gallery',\n                            name: value.original_name\n                        });\n                    });\n                }\n                $log.info($scope.galleryByVilla);\n            }, function errorCallback(response) {\n                $log.info(response);\n            });\n        }\n\n    }\n]);\n\nangular.module('frontend').filter('stripTags', function() {\n    return function(text) {\n        return text ? String(text).replace(/<[^>]+>/gm, '') : '';\n    };\n});"]}